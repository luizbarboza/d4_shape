import 'package:d4_shape/d4_shape.dart';
import 'package:test/test.dart';

void main() {
  test("stackOrderInsideOut(series) returns an order by appearance", () {
    expect(
        stackOrderInsideOut([
          [
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 1]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 2],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 3],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 4],
            [0, 0],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 5],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 6],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 7],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0]
          ]
        ]),
        [2, 3, 6, 5, 4, 1, 0]);
  });

  test("stackOrderInsideOut(series) treats NaN values as zero", () {
    expect(
        stackOrderInsideOut([
          [
            [0, 0],
            [0, double.nan],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 1]
          ],
          [
            [0, 0],
            [0, 0],
            [0, double.nan],
            [0, 0],
            [0, 0],
            [0, 2],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 3],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 4],
            [0, double.nan],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 0],
            [0, 0],
            [0, 5],
            [0, 0],
            [0, 0],
            [0, double.nan],
            [0, 0]
          ],
          [
            [0, double.nan],
            [0, 6],
            [0, 0],
            [0, double.nan],
            [0, 0],
            [0, 0],
            [0, 0]
          ],
          [
            [0, 7],
            [0, double.nan],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0],
            [0, 0]
          ]
        ]),
        [2, 3, 6, 5, 4, 1, 0]);
  });
}
